<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TORQUE ‚Äî Telegram Mini App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
  <header class="app-header">
    <div class="logo">TORQUE</div>
    <div class="balance" id="balance">0 $TORQUE</div>
  </header>

  <main>
    <section id="onboarding" class="section active">
      <div class="onboarding">
        <h1 class="logo logo-xl">TORQUE</h1>
        <p class="subtitle">Build your crypto garage.<br />Earn while you drift.</p>
        <button class="btn" id="connect-wallet">Connect TON Wallet</button>
        <p class="fineprint">Powered by TON ‚Ä¢ Earn real crypto</p>
      </div>
    </section>

    <section id="garage" class="section">
      <div class="income" id="income-display">0 $TORQUE/hr</div>
      <button class="btn collect-btn" id="collect" style="display:none;">Collect Rewards</button>
      <p id="garage-hint" class="hint">Open your first box in Shop to start earning!</p>
      <div class="grid" id="garage-grid"></div>
      <button class="race-fab" id="go-races" aria-label="Go to races">‚ö°</button>
    </section>

    <section id="car-detail" class="section">
      <button class="back-btn" id="back-to-garage">‚Üê Back</button>
      <img class="car-img" id="detail-img" src="" alt="" />
      <h2 id="detail-name">Car Name</h2>
      <p id="detail-rarity">Rarity ‚Ä¢ Level</p>
      <div class="card">
        <p>Current Income: <strong id="detail-income">0 $TORQUE/hr</strong></p>
        <button class="btn btn-secondary" id="stake-btn">Stake for +50%</button>
      </div>
      <div class="card">
        <h3>Performance Stats</h3>
        <p>Power <progress value="70" max="100"></progress> 70</p>
        <p>Speed <progress value="75" max="100"></progress> 75</p>
        <p>Drift <progress value="80" max="100"></progress> 80</p>
        <p>Style <progress value="65" max="100"></progress> 65</p>
      </div>
      <div class="card">
        <h3>Tuning Shop</h3>
        <div class="grid">
          <div><p>Engine</p><button class="btn">Upgrade</button></div>
          <div><p>Nitro</p><button class="btn">Upgrade</button></div>
          <div><p>Neon</p><button class="btn">Upgrade</button></div>
          <div><p>Spoiler</p><button class="btn">Upgrade</button></div>
        </div>
      </div>
    </section>

    <section id="shop" class="section">
      <div class="card">
        <h3>Car Boxes</h3>
        <div class="shop-item">
          <p>Common Box ‚Ä¢ 60% Common, 30% Rare, 10% Epic</p>
          <button class="btn" data-box="common" data-cost="5000">Open ‚Ä¢ 5000 $TORQUE</button>
        </div>
        <div class="shop-item">
          <p>Rare Box ‚Ä¢ 40% Rare, 40% Epic, 20% Legendary</p>
          <button class="btn" data-box="rare" data-cost="15000">Open ‚Ä¢ 15000 $TORQUE</button>
        </div>
        <div class="shop-item">
          <p>Epic Box ‚Ä¢ 50% Epic, 50% Legendary</p>
          <button class="btn" data-box="epic" data-cost="50000">Open ‚Ä¢ 50000 $TORQUE</button>
        </div>
      </div>
      <div class="card">
        <h3>Power-Ups & Boosts</h3>
        <div class="shop-item">
          <p>2x Income Boost 24 hours</p>
          <button class="btn btn-secondary" disabled>Coming soon</button>
        </div>
        <div class="shop-item">
          <p>Extra Garage Slot</p>
          <button class="btn btn-secondary" disabled>Coming soon</button>
        </div>
        <div class="shop-item">
          <p>Auto-Collect 7 days</p>
          <button class="btn btn-secondary" disabled>Coming soon</button>
        </div>
      </div>
    </section>

    <section id="races" class="section">
      <div class="card">
        <h2>Neon Drift Race</h2>
        <p>Drift longer for higher multiplier! Cash out before crash!</p>
        <canvas id="race-canvas"></canvas>
        <div class="multiplier" id="multiplier">1.00x</div>
        <div class="race-controls">
          <button class="btn" id="nitro-btn" style="display:none;">Nitro Boost</button>
          <button class="btn" id="cash-out-btn" style="display:none;">Cash Out</button>
        </div>
        <button class="btn" id="start-race">Start Race</button>
        <p class="hint">Press & hold Nitro to surge the multiplier.</p>
        <h3>Today's Top Racers</h3>
        <ol>
          <li>SpeedDemon ‚Äî 15.3x</li>
          <li>NeonKing ‚Äî 12.7x</li>
          <li>DriftMaster ‚Äî 10.5x</li>
        </ol>
      </div>
    </section>

    <section id="profile" class="section">
      <div class="card profile-card">
        <img class="avatar" id="user-avatar" src="" alt="User avatar" />
        <div>
          <h2 id="user-name">Player</h2>
          <p>Level <span id="user-level">1</span> ‚Ä¢ Rank #<span id="user-rank">999</span></p>
          <progress id="level-progress" value="0" max="100"></progress>
          <p id="user-stats">
            <span id="cars-owned">0</span> Cars Owned ‚Ä¢
            <span id="garage-value">0</span> Garage Value ‚Ä¢
            <span id="race-wins">0</span> Race Wins
          </p>
        </div>
      </div>
      <div class="card">
        <h3>Achievements</h3>
        <div class="grid achievements">
          <div class="achievement" data-achievement="first-ride">üèÅ First Ride<br /><small>Get your first car</small></div>
          <div class="achievement" data-achievement="speed-demon">‚ö° Speed Demon<br /><small>Win 10 races</small></div>
          <div class="achievement" data-achievement="collector">üßë‚Äçüè≠ Collector<br /><small>Own 5 cars</small></div>
        </div>
      </div>
      <div class="card">
        <h3>Local Leaderboard</h3>
        <ol id="leaderboard-list"></ol>
      </div>
    </section>
  </main>

  <div id="box-modal" class="box-modal" aria-hidden="true">
    <div class="box box-rotating"></div>
    <p class="box-status">Opening...</p>
    <div id="reveal-car" class="reveal" style="display:none;">
      <img id="new-car-img" src="" alt="New car" />
      <p id="new-car-name"></p>
      <p id="new-car-rarity"></p>
      <button class="btn" id="close-box">Continue</button>
    </div>
  </div>

  <nav class="bottom-nav">
    <button class="nav-item active" data-section="garage">üè† Garage</button>
    <button class="nav-item" data-section="shop">üõí Shop</button>
    <button class="nav-item" data-section="races">‚ö° Races</button>
    <button class="nav-item" data-section="profile">üë§ Profile</button>
  </nav>

  <script src="app.js"></script>
</body>
</html>
